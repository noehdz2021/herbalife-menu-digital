<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menú Digital - Herbalife</title>
    <link rel="stylesheet" href="display-styles.css?v=1.3">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="display-container">
        <div class="slideshow-container">
            <div class="slide active" id="slide1">
                <div id="slideContent1" class="slide-content">
                    <!-- El contenido (imagen o video) se insertará dinámicamente aquí -->
                </div>
            </div>
            
            <div class="slide" id="slide2">
                <div id="slideContent2" class="slide-content">
                    <!-- El contenido (imagen o video) se insertará dinámicamente aquí -->
                </div>
            </div>
        </div>

        <div class="clock-overlay" id="clockOverlay">
            <div class="current-time" id="currentTime"></div>
            <div class="connection-status" id="connectionStatus">
                <span class="status-indicator" id="statusIndicator">●</span>
                <span class="status-text" id="statusText">Conectando...</span>
            </div>
        </div>
    </div>

    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <h2>🌿 Cargando Menú Digital...</h2>
            <div class="loading-spinner"></div>
        </div>
    </div>

    <script>
        // Verificar que Supabase se cargó correctamente
        console.log('🔄 Verificando carga de Supabase en display...');
        
        function waitForSupabaseLibrary() {
            return new Promise((resolve, reject) => {
                let attempts = 0;
                const maxAttempts = 50;
                
                const checkSupabase = () => {
                    if (typeof window.supabase !== 'undefined' && window.supabase && window.supabase.createClient) {
                        console.log('✅ Biblioteca de Supabase cargada exitosamente en display');
                        resolve();
                    } else if (attempts < maxAttempts) {
                        attempts++;
                        setTimeout(checkSupabase, 100);
                    } else {
                        console.error('❌ No se pudo cargar la biblioteca de Supabase en display');
                        reject(new Error('Supabase library not loaded'));
                    }
                };
                
                checkSupabase();
            });
        }
        
        // Inicializar cuando esté listo
        waitForSupabaseLibrary().then(() => {
            console.log('🚀 Iniciando display con Supabase disponible');
        }).catch(error => {
            console.error('❌ Error cargando Supabase en display:', error);
        });
    </script>
    <script src="display-script.js?v=1.3"></script>
</body>
</html> 